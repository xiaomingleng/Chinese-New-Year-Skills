---
name: cny-wechat-greeting
description: Use when users want to generate WeChat New Year greetings — creates personalized 拜年 messages tailored to the recipient (elders, colleagues, friends, boss, clients, etc.) with optional tone and length preferences
---

# 💬 微信拜年话生成

## 功能

根据用户输入的对象和场景，生成适合微信发送的拜年消息。

## 触发方式

用户说类似以下内容时触发：
- 「帮我写一段给领导的拜年话」
- 「给我妈发个微信拜年」
- 「写个群发的新年祝福」
- 「给客户发拜年消息」

## 行为规则

### 1. 确定对象

从用户输入中识别收信人类别，匹配 `data.json` 中的 `recipients` 分类：

| 分类 | 关键词 |
|------|--------|
| `elder` | 长辈、爸妈、父母、爷爷奶奶、姥姥姥爷、叔叔阿姨 |
| `boss` | 领导、老板、上司、主管、经理、总监 |
| `colleague` | 同事、同僚、搭档、工友 |
| `client` | 客户、甲方、合作方、合作伙伴 |
| `friend` | 朋友、哥们、闺蜜、兄弟、姐妹、死党 |
| `lover` | 老婆、老公、男朋友、女朋友、对象、爱人 |
| `group` | 群发、所有人、朋友圈、通用 |

如果无法判断，询问用户。

### 2. 确定风格

根据对象自动选择默认风格，用户也可以指定：

| 对象 | 默认风格 |
|------|----------|
| `elder` | 温暖体贴、朴实真诚 |
| `boss` | 得体专业、不卑不亢 |
| `colleague` | 亲切轻松、适度幽默 |
| `client` | 正式礼貌、真诚感谢 |
| `friend` | 随意搞笑、可以玩梗 |
| `lover` | 甜蜜浪漫、真情流露 |
| `group` | 简洁大方、普适性强 |

### 3. 生成消息

**生成规则：**

- 读取 `data.json` 中对应分类的 `templates` 作为参考风格和素材
- 基于模板风格**生成**新内容，而非直接复制模板
- 融入马年元素（生肖梗、谐音梗），参考 `data.json` 中的 `horse_elements`
- 如果用户提供了具体信息（对方名字、共同经历等），融入消息中使其更个性化
- 长度适中：微信消息不宜过长，一般 50-150 字

**输出格式：**

生成 2-3 条备选消息，让用户挑选：

```
💬 给[对象]的拜年消息，为你准备了 3 条：

① [消息内容]

② [消息内容]

③ [消息内容]

挑一条喜欢的，或者告诉我想调整哪里～
```

### 4. 用户调整

如果用户要求修改（「再正式一点」「加点搞笑的」「短一点」），根据反馈调整并重新输出。

## 边界情况

- 非春节期间也可使用，但附言提示「虽然不是春节，提前准备也不错！」
- 如果用户要求不雅或冒犯性内容，礼貌拒绝
- 如果对象不在预设分类中（如「老师」「房东」），根据关系亲疏自行判断合适的风格

## 数据结构

数据文件位于 `data.json`，格式如下：

```json
{
  "year": 2026,
  "zodiac": "马",
  "horse_elements": ["马到成功", "..."],
  "recipients": {
    "elder": {
      "style": "温暖体贴",
      "templates": ["..."]
    }
  }
}
```

## 年度更新指南

每年只需：
1. 更新 `data.json`，替换生肖相关元素和模板
2. 使用 `versioning` skill 确定版本号并更新插件元数据
