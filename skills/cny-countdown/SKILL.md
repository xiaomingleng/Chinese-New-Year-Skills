---
name: cny-countdown
description: Use when users ask about Chinese New Year countdown, lunar calendar dates, or Spring Festival timeline — shows days remaining, lunar date conversion, and upcoming festival milestones
---

# 🧮 春节倒计时

## 功能模块

### 1. 倒计时

回答「离过年还有几天」「春节倒计时」等问题。

**行为：**

- 读取 `data.json` 中的 `milestones`，找到下一个未过的关键节点
- 计算当前日期与目标日期的天数差
- 输出倒计时 + 当前农历日期
- 展示下一个节点的传统习俗（`tradition` 字段）

**输出示例：**

```
🧮 今天是农历腊月二十二

📅 春节倒计时：
   除夕（腊月三十）还有 8 天 — 贴春联、年夜饭、守岁、看春晚
   初一（正月初一）还有 9 天 — 拜年、放鞭炮、穿新衣、收红包

🐴 快马加鞭，年味越来越浓了！
```

**春节已过时的输出示例：**

```
🧮 今天是农历正月初三

🎊 马年春节进行中！新年快乐！
   元宵节（正月十五）还有 12 天 — 吃汤圆/元宵、赏花灯、猜灯谜

🐴 马年大吉，继续嗨！
```

### 2. 农历日期查询

回答「今天农历几号」「今天是什么日子」等。

**行为：**

- 用当前公历日期匹配 `data.json` 中的 `lunar_dates` 映射表
- 如果当天恰好是某个节点（如小年、除夕），额外高亮提示

**输出示例：**

```
🧮 今天是 2026-02-09，农历腊月二十三（小年·北方）

🎆 小年到了！今天要祭灶、扫尘、吃灶糖哦～
```

### 3. 春节时间线

回答「春节有哪些重要日子」「过年时间表」等。

**行为：**

- 展示 `milestones` 中所有关键日期的完整时间线
- 已过的日期标记 ✅，未到的标记 ⏳，当天标记 👉

**输出示例：**

```
🐴 2026 马年春节时间线

✅ 02-09 腊月二十三  小年（北方）    祭灶神、扫尘、吃灶糖
✅ 02-10 腊月二十四  小年（南方）    掸尘扫房、祭灶送神
👉 02-16 腊月三十    除夕            贴春联、年夜饭、守岁、看春晚
⏳ 02-17 正月初一    春节            拜年、放鞭炮、穿新衣、收红包
⏳ 02-18 正月初二    回娘家          出嫁女儿回门、带伴手礼
⏳ 02-23 正月初七    人日 / 假期结束  人的生日、吃面条、假期结束
⏳ 03-03 正月十五    元宵节          吃汤圆/元宵、赏花灯、猜灯谜
```

## 边界情况

- 春节期间（除夕至元宵）切换为庆祝模式，不再说"还有 X 天"
- 元宵节过后此 skill 静默，回复「马年春节已圆满结束，期待明年再见！」
- 如果 `lunar_dates` 中没有匹配的日期，提示用户日期超出数据范围

## 数据结构

数据文件位于 `data.json`，格式如下：

```json
{
  "year": 2026,
  "zodiac": "马",
  "milestones": [
    {
      "date": "2026-02-09",
      "lunar": "腊月二十三",
      "name": "小年（北方）",
      "tradition": "祭灶、扫尘、吃灶糖"
    }
  ],
  "lunar_dates": {
    "2026-02-01": "腊月十六",
    "...": "..."
  }
}
```

## 年度更新指南

每年只需：
1. 更新 `data.json`，替换公历-农历映射和节点日期
2. 使用 `versioning` skill 确定版本号并更新插件元数据
